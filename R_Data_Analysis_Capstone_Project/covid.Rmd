---
title: "COVID-19 Vaccination Investigation"
output: html_notebook
---
### Introduction

In this document, we investigated the search trends of COVID-19 vaccine and daily vaccinations for different countries. This investigation focused on four countries/regions, including Hong Kong, Singapore, United States and Israel. We also investigated if there is any correlation between the search rate and the daily vaccination number.

### The Data

First, we load all the libraries used in this project.
```{r}
library(dplyr)
library(tidyr)
library(ggplot2)
library(gtrendsR)
```

```{r}
trends <- gtrends(keyword = c("COVID-19 vaccine"), geo = c("HK", "SG", "US", "IL"), time = "today 12-m")
trends_over_time <- trends$interest_over_time
trends_over_time <- trends_over_time %>% mutate(hits = as.numeric(hits)) %>% replace_na(list(hits = 0))
```

```{r}
# Plotting the trends
trends_over_time %>% ggplot() + geom_line(aes(date, hits, color = geo)) +
  scale_color_discrete(name = "Country", labels = c("Hong Kong", "Singapore", "United States", "Israel" )) + 
  labs(title = "Google Trend Data For COVID-19 Vaccination", y = "Hits (Normalized to be between 0 and 1000", x = "Date")
```

```{r}
df <- read.csv('country_vaccinations.csv')
```

```{r}
df
```
```{r}
df[is.na(df)] <- 0
df$date <- as.Date(df$date, "%Y-%m-%d")
df_filter <- df %>% filter(country == "Hong Kong" | country == "Singapore" | country == "United States" | country == "Israel")
df_hk <- df %>% filter(country == "Hong Kong")
df_sg <- df %>% filter(country == "Singapore")
df_us <- df %>% filter(country == "United States")
df_il <- df %>% filter(country == "Israel")
```

```{r}
df_hk
#min(df_hk$date)
#max(df_hk$date)
df_hk %>% ggplot() + geom_line(aes(date, daily_vaccinations))
```

```{r}
df_filter %>% ggplot() + geom_line(aes(date, daily_vaccinations_per_million, color = country))
```








### Conclusion and Further Steps
